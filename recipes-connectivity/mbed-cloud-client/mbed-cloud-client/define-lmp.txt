include_directories(${CMAKE_CURRENT_SOURCE_DIR}/../)

add_definitions(-DMBED_CLIENT_USER_CONFIG_FILE="\\"mbed_cloud_client_user_config.h"\\")
add_definitions(-DMBED_CLOUD_CLIENT_USER_CONFIG_FILE="\\"mbed_cloud_client_user_config.h"\\")
add_definitions(-DPAL_USER_DEFINED_CONFIGURATION="\\"sotp_fs_config_linux.h"\\")
if(RESET_STORAGE)
add_definitions(-DRESET_STORAGE)
endif(RESET_STORAGE)

SET(PAL_TLS_BSP_DIR ${NEW_CMAKE_SOURCE_DIR}/mbed-cloud-client/mbed-client-pal/Configs/${TLS_LIBRARY})

if (${TLS_LIBRARY} MATCHES mbedTLS)
    # PAL specific configurations for mbedTLS
    if (NOT (${OS_BRAND} MATCHES "FreeRTOS"))
        add_definitions(-DMBEDTLS_CONFIG_FILE="\\"${PAL_TLS_BSP_DIR}/mbedTLSConfig_${OS_BRAND}.h"\\")
    else()
        add_definitions(-DMBEDTLS_CONFIG_FILE=\"${PAL_TLS_BSP_DIR}/mbedTLSConfig_${OS_BRAND}.h\")
    endif()
    message("PAL_TLS_BSP_DIR ${PAL_TLS_BSP_DIR}/pal_${OS_BRAND}.h")
endif()

if(PAL_SIMULATOR_FILE_SYSTEM_OVER_RAM)
    message(WARNING "You are using simulation of File System over RAM")
    add_definitions(-DPAL_SIMULATOR_FILE_SYSTEM_OVER_RAM=${PAL_SIMULATOR_FILE_SYSTEM_OVER_RAM})
endif(PAL_SIMULATOR_FILE_SYSTEM_OVER_RAM)

add_definitions(-DPAL_DTLS_PEER_MIN_TIMEOUT=5000)
add_definitions(-DMBED_CONF_APP_DEVELOPER_MODE=1)
add_definitions(-DMBED_CONF_MBED_TRACE_ENABLE=0)
add_definitions(-DPLATFORM_ENABLE_BUTTON=0)
add_definitions(-DPLATFORM_ENABLE_LED=1)

add_definitions(-DPAL_FS_MOUNT_POINT_PRIMARY="\\"/var/sota/pelion/config\\"")
add_definitions(-DPAL_FS_MOUNT_POINT_SECONDARY="\\"/var/sota/pelion/config\\"")
add_definitions(-DPAL_UPDATE_FIRMWARE_DIR="\\"/var/sota/pelion/firmware\\"")
add_definitions(-DMBED_CLOUD_CLIENT_UPDATE_STORAGE=ARM_UCP_LINUX_LMP)
add_definitions(-DARM_UC_SOCKET_TIMEOUT_MS=5*60*1000)
